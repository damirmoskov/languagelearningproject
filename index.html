<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COSYlanguages - Games</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>COSYlanguages</h1>
        <div id="game-selector">
            <button id="select-memory-match" class="game-selector-btn active">Memory Match</button>
            <button id="select-cloze-race" class="game-selector-btn">Cloze Race</button>
            <button id="select-spot-mistake" class="game-selector-btn">Spot the Mistake</button>
            <button id="select-picture-bingo" class="game-selector-btn">Picture Bingo</button>
            <button id="select-pronunciation-sprint" class="game-selector-btn">Pronunciation Sprint</button>
            <button id="select-adaptive-flashcards" class="game-selector-btn">Adaptive Flashcards</button>
            <button id="select-sentence-sculptor" class="game-selector-btn">Sentence Sculptor</button>
            <button id="select-roleplay-simulator" class="game-selector-btn">Roleplay Simulator</button>
            <button id="select-synonym-swap" class="game-selector-btn">Synonym Swap</button>
            <button id="select-mystery-game" class="game-selector-btn">5 Clues Mystery</button>
            <button id="select-reverse-translation" class="game-selector-btn">Reverse Translation</button>
            <button id="select-find-the-liar" class="game-selector-btn">Find the Liar</button>
            <button id="select-synonym-chain" class="game-selector-btn">Synonym Chain</button>
            <button id="select-wrong-ending-detective" class="game-selector-btn">Wrong Ending Detective</button>
            <button id="select-picture-debate" class="game-selector-btn">Picture Debate</button>
            <button id="select-what-happens-next" class="game-selector-btn">What Happens Next?</button>
            <button id="select-word-detective" class="game-selector-btn">Word Detective</button>
            <button id="select-metaphor-match" class="game-selector-btn">Metaphor Match</button>
            <button id="select-problem-solvers" class="game-selector-btn">Problem Solvers</button>
            <button id="select-diagnosis-game" class="game-selector-btn">Diagnosis Game</button>
            <button id="select-translate-the-mood" class="game-selector-btn">Translate the Mood</button>
            <button id="select-two-stage-guess" class="game-selector-btn">Two-Stage Guess</button>
            <button id="select-verb-builder-lab" class="game-selector-btn">Verb Builder Lab</button>
            <button id="select-verb-snap" class="game-selector-btn">Verb Snap!</button>
            <button id="select-gender-quest" class="game-selector-btn">Gender Quest</button>
            <button id="select-preposition-path" class="game-selector-btn">Preposition Path</button>
            <button id="select-time-machine-verbs" class="game-selector-btn">Time Machine Verbs</button>
            <button id="select-agreement-arcade" class="game-selector-btn">Agreement Arcade</button>
            <button id="select-conjugation-duel" class="game-selector-btn">Conjugation Duel</button>
            <button id="select-preposition-detective" class="game-selector-btn">Preposition Detective</button>
            <button id="select-morphology-mixer" class="game-selector-btn">Morphology Mixer</button>
        </div>
        <div class="language-selector-container">
            <label for="language-selector">Language:</label>
            <select id="language-selector">
                <option value="english_a2">English</option>
                <option value="french_a2">French</option>
                <option value="spanish_a2">Spanish</option>
                <option value="italian_a2">Italian</option>
                <option value="german_a2">German</option>
                <option value="russian_a2">Russian</option>
                <option value="portuguese_a2">Portuguese</option>
                <option value="breton_a2">Breton</option>
                <option value="armenian_a2">Armenian</option>
                <option value="georgian_a2">Georgian</option>
                <option value="tatar_a2">Tatar</option>
                <option value="bachkir_a2">Bachkir</option>
                <option value="tchuvash_a2">Tchuvash</option>
                <option value="greek_a2">Greek</option>
            </select>
        </div>
        <p id="deck-title">French A2</p>
    </header>
    <main>
        <div id="memory-match-container" class="game-container active">
            <div id="game-board"></div>
            <div id="progress-container">
                <h2>Progress</h2>
                <p>Matches: <span id="matches-count">0</span></p>
                <p>Attempts: <span id="attempts-count">0</span></p>
                <button id="reset-button">Reset Game</button>
            </div>
        </div>
        <div id="cloze-race-container" class="game-container">
            <div id="cloze-stats">
                <p>Time: <span id="cloze-timer">60</span>s</p>
                <p>Score: <span id="cloze-score">0</span></p>
            </div>
            <div id="cloze-sentence-container">
                <p id="cloze-sentence">Click "Start" to begin the race!</p>
            </div>
            <div id="cloze-options-container"></div>
            <button id="cloze-next-btn">Start</button>
        </div>

        <div id="spot-mistake-container" class="game-container">
            <div id="spot-mistake-stats">
                <p>Mistakes Found: <span id="spot-mistake-found">0</span> / <span id="spot-mistake-total">0</span></p>
            </div>
            <div id="spot-mistake-text-container">
                <!-- Text with mistakes will be rendered here by JS -->
            </div>
            <button id="spot-mistake-next-btn">Next Text</button>
        </div>

        <div id="picture-bingo-container" class="game-container">
            <div id="bingo-controls">
                <button id="bingo-new-card-btn">New Card</button>
                <button id="bingo-next-clue-btn">Call Next Clue</button>
            </div>
            <p id="bingo-clue-display">Click "Call Next Clue" to start.</p>
            <div id="bingo-card-grid">
                <!-- 3x3 grid will be populated by JS -->
            </div>
        </div>

        <div id="pronunciation-sprint-container" class="game-container">
            <h2 id="ps-deck-title">Pronunciation Sprint</h2>
            <div id="pronunciation-sprint-controls">
                <button id="ps-start-btn">Start Game</button>
                <button id="ps-listen-btn" disabled>Listen to Prompt</button>
                <button id="ps-record-btn" disabled>Record Answer</button>
            </div>
            <div id="pronunciation-sprint-game-area">
                <p><strong>Prompt:</strong> <span id="ps-prompt-text">Press "Start Game" to get a prompt.</span></p>
                <p><strong>Your attempt:</strong> <span id="ps-user-speech">...</span></p>
                <p><strong>Feedback:</strong> <span id="ps-feedback"></span></p>
            </div>
            <div id="pronunciation-sprint-stats">
                <p>Score: <span id="ps-score">0</span></p>
            </div>
        </div>

        <div id="adaptive-flashcards-container" class="game-container">
            <h2 id="af-deck-title">Adaptive Flashcards</h2>
            <div id="srs-stats-container">
                <span>New: <span id="srs-stats-new">0</span></span>
                <span>Learning: <span id="srs-stats-learning">0</span></span>
                <span>To Review: <span id="srs-stats-review">0</span></span>
            </div>
            <div id="flashcard-area">
                <div id="flashcard">
                    <div id="flashcard-front"></div>
                    <div id="flashcard-back" style="display: none;"></div>
                </div>
                <button id="flashcard-flip-btn">Flip</button>
            </div>
            <div id="recall-buttons-container" style="display: none;">
                <button class="recall-btn" data-quality="1">Again (1m)</button>
                <button class="recall-btn" data-quality="3">Hard (1d)</button>
                <button class="recall-btn" data-quality="4">Good (3d)</button>
                <button class="recall-btn" data-quality="5">Easy (7d)</button>
            </div>
        </div>

        <div id="sentence-sculptor-container" class="game-container">
            <h2 id="scs-deck-title">Sentence Sculptor</h2>
            <img id="scs-prompt-image" src="" alt="Sentence prompt" style="max-width: 100%; height: auto; margin-bottom: 15px; border-radius: 10px; background-color: #eee;">
            <div id="scs-target-sentence" class="dropzone">
                <!-- Dropped chunks will appear here -->
            </div>
            <div id="scs-source-chunks" class="source-zone">
                <!-- Draggable chunks will be populated here by JS -->
            </div>
            <div id="scs-controls">
                <button id="scs-check-btn">Check Answer</button>
                <button id="scs-next-btn">Next Sentence</button>
            </div>
            <p id="scs-feedback"></p>
        </div>

        <div id="roleplay-simulator-container" class="game-container">
            <h2 id="rs-scenario-title">Roleplay Simulator</h2>
            <div id="rs-conversation-log"></div>
            <div id="rs-npc-prompt"></div>
            <div id="rs-user-choices"></div>
        </div>

        <div id="synonym-swap-container" class="game-container">
            <div id="ss-stats">
                <p>Score: <span id="ss-score">0</span></p>
            </div>
            <div id="ss-sentence-container">
                <p id="ss-sentence">Loading...</p>
            </div>
            <div id="ss-options-container"></div>
            <button id="ss-next-btn">Next</button>
        </div>

        <div id="mystery-game-container" class="game-container">
            <h2>5 Clues Mystery</h2>
            <p>Score: <span id="mg-score">0</span></p>
            <ul id="mg-clues-list">
                <!-- Clues will be populated by JS -->
            </ul>
            <div id="mg-input-container">
                <input type="text" id="mg-guess-input" placeholder="What is it?">
                <button id="mg-guess-btn">Guess</button>
            </div>
            <button id="mg-next-clue-btn">Next Clue</button>
            <p id="mg-feedback"></p>
        </div>

        <div id="reverse-translation-container" class="game-container">
            <h2>Reverse Translation</h2>
            <p id="rt-challenge-prompt">Loading challenge...</p>
            <textarea id="rt-user-input" rows="4" placeholder="Write your definition here..."></textarea>
            <button id="rt-submit-btn">Submit Definition</button>
            <div id="rt-model-answer-container" style="display: none;">
                <h3>Model Definition:</h3>
                <p></p>
            </div>
            <p id="rt-feedback"></p>
            <button id="rt-next-btn" style="display: none;">Next Challenge</button>
        </div>

        <div id="find-the-liar-container" class="game-container">
            <h2>Find the Liar</h2>
            <p>Score: <span id="ftl-score">0</span></p>
            <h3 id="ftl-topic">Loading scenario...</h3>
            <ul id="ftl-statements-list" class="statements">
                <!-- Statements will be populated by JS -->
            </ul>
            <button id="ftl-reveal-clue-btn">Reveal a Clue</button>
            <div class="clues-section">
                <h4>Clues:</h4>
                <ul id="ftl-clues-list">
                    <!-- Clues will be populated by JS -->
                </ul>
            </div>
            <p id="ftl-feedback"></p>
            <button id="ftl-next-scenario-btn" style="display: none;">Next Scenario</button>
        </div>

        <div id="synonym-chain-container" class="game-container">
            <h2>Synonym Chain</h2>
            <p>Chain Length: <span id="sc-score">0</span></p>
            <div id="sc-chain-display" class="chain-display"></div>
            <p id="sc-current-word"></p>
            <div id="sc-input-container">
                <input type="text" id="sc-user-input" placeholder="Type a synonym...">
                <button id="sc-submit-btn">Submit</button>
            </div>
            <p id="sc-feedback"></p>
            <button id="sc-new-chain-btn" style="display: none;">Start New Chain</button>
        </div>

        <div id="wrong-ending-detective-container" class="game-container">
            <h2>Wrong Ending Detective</h2>
            <p>Score: <span id="wed-score">0</span></p>
            <div id="wed-sentence-container" class="sentence"></div>
            <div id="wed-explanation-container" class="explanation-options"></div>
            <p id="wed-feedback"></p>
            <button id="wed-next-btn" style="display: none;">Next Challenge</button>
        </div>

        <div id="picture-debate-container" class="game-container">
            <h2>Picture Prompt Debate</h2>
            <img id="pd-image" src="" alt="Debate prompt image" style="max-width: 100%; height: auto;">
            <h3 id="pd-topic"></h3>
            <p id="pd-prompt"></p>
            <textarea id="pd-user-input" rows="5" placeholder="Write your thoughts here..."></textarea>
            <button id="pd-submit-btn">Submit</button>
            <div id="pd-review-section" style="display: none;">
                <div id="pd-model-answers"></div>
                <div id="pd-useful-phrases"></div>
            </div>
            <button id="pd-next-debate-btn" style="display: none;">Next Debate</button>
        </div>

        <div id="what-happens-next-container" class="game-container">
            <h2>What Happens Next?</h2>
            <p id="whn-story-starter"></p>
            <textarea id="whn-user-input" rows="5" placeholder="Write your continuation here..."></textarea>
            <button id="whn-submit-btn">Submit</button>
            <div id="whn-model-continuations" style="display: none;"></div>
            <button id="whn-next-btn" style="display: none;">Next Story</button>
        </div>

        <div id="word-detective-container" class="game-container">
            <h2>Word Detective</h2>
            <p>Score: <span id="wd-score">0</span></p>
            <div id="wd-paragraph" class="paragraph-text"></div>
            <textarea id="wd-user-input" rows="3" placeholder="What do you think the highlighted word means?"></textarea>
            <button id="wd-submit-btn">Submit Definition</button>
            <div id="wd-definition-container" style="display: none;"></div>
            <div id="wd-mcq-container" style="display: none;"></div>
            <button id="wd-next-btn" style="display: none;">Next Word</button>
        </div>

        <div id="metaphor-match-container" class="game-container">
            <h2>Metaphor Match</h2>
            <p>Score: <span id="mm-score">0</span></p>
            <p id="mm-metaphor" class="metaphor-quote"></p>
            <div id="mm-options-container"></div>
            <div id="mm-explanation" style="display: none;"></div>
            <button id="mm-next-btn" style="display: none;">Next Metaphor</button>
        </div>

        <div id="problem-solvers-container" class="game-container">
            <h2>Problem Solvers</h2>
            <p id="ps-description"></p>
            <p id="ps-prompt"></p>
            <textarea id="ps-user-input" rows="5" placeholder="Write your plan here..."></textarea>
            <button id="ps-submit-btn">Submit Step</button>
            <div id="ps-review-section" style="display: none;">
                <div id="ps-model-solution"></div>
                <div id="ps-useful-vocab"></div>
            </div>
            <button id="ps-next-btn" style="display: none;">Next Problem</button>
        </div>

        <div id="diagnosis-game-container" class="game-container">
            <h2>Diagnosis Game</h2>
            <p>Score: <span id="dg-score">0</span></p>
            <p id="dg-scene" class="scene-text"></p>
            <p id="dg-context" class="context-text"></p>
            <div id="dg-options-container"></div>
            <div id="dg-justification" style="display: none;"></div>
            <button id="dg-next-btn" style="display: none;">Next Challenge</button>
        </div>

        <div id="translate-the-mood-container" class="game-container">
            <h2>Translate the Mood</h2>
            <p>Score: <span id="tm-score">0</span></p>
            <p id="tm-sentence" class="sentence-text"></p>
            <p id="tm-mood" class="mood-text"></p>
            <div id="tm-input-container">
                 <input type="text" id="tm-user-input" placeholder="Rewrite the sentence to convey the mood.">
                 <button id="tm-submit-btn">Submit</button>
            </div>
            <div id="tm-explanation" style="display: none;"></div>
            <button id="tm-next-btn" style="display: none;">Next Challenge</button>
        </div>

        <div id="two-stage-guess-container" class="game-container">
            <h2>Two-Stage Guess</h2>
            <p>Score: <span id="tsg-score">0</span></p>
            <div id="tsg-evidence-container" class="evidence-text"></div>
            <p id="tsg-prompt-container" class="prompt-text"></p>
            <textarea id="tsg-user-input" rows="4" placeholder="Write your hypothesis here..."></textarea>
            <button id="tsg-submit-btn">Submit Hypothesis</button>
            <div id="tsg-model-answer-container" class="model-answer" style="display: none;"></div>
            <button id="tsg-next-btn" style="display: none;">Next Challenge</button>
        </div>

        <div id="verb-builder-lab-container" class="game-container">
            <h2>Verb Builder Lab</h2>
            <div id="vbl-plant-container">
                <!-- SVG for the growing plant will go here -->
            </div>
            <div id="vbl-prompt-container">
                <p>Person: <span id="vbl-person"></span></p>
                <p>Tense: <span id="vbl-tense"></span></p>
            </div>
            <div id="vbl-verb-container">
                <span id="vbl-verb-root"></span>
                <span id="vbl-verb-ending">?</span>
            </div>
            <div id="vbl-options-container">
                <!-- Answer tiles will be populated by JS -->
            </div>
            <p id="vbl-feedback"></p>
            <button id="vbl-next-btn" style="display: none;">Next Verb</button>
        </div>

        <div id="verb-snap-container" class="game-container">
            <div id="vs-header">
                <p>Score: <span id="vs-score">0</span></p>
                <p>Time: <span id="vs-timer">60</span></p>
            </div>
            <div id="vs-prompt-media-container">
                <img id="vs-prompt-media" src="" alt="Verb Snap! Prompt">
            </div>
            <p id="vs-prompt-text"></p>
            <div id="vs-options-area">
                <!-- Moving options will be spawned here by JS -->
                <div id="vs-overlay">
                    <button id="vs-start-btn">Start Game</button>
                </div>
            </div>
        </div>

        <div id="gender-quest-container" class="game-container">
            <h2>Gender Quest</h2>
            <div id="gq-stats">
                <p>Score: <span id="gq-score">0</span></p>
                <button id="gq-next-round-btn" style="display: none;">Next Round</button>
            </div>
            <div id="gq-homes-container">
                <div id="gq-masculine-home" class="gq-home" data-gender="masculine">
                    <h3>Masculine</h3>
                </div>
                <div id="gq-feminine-home" class="gq-home" data-gender="feminine">
                    <h3>Feminine</h3>
                </div>
            </div>
            <p id="gq-feedback">Drag the items to their correct home.</p>
            <div id="gq-item-pool">
                <!-- Draggable items will be spawned here by JS -->
            </div>
        </div>

        <div id="preposition-path-container" class="game-container">
            <h2>Preposition Path</h2>
            <p id="pp-instruction"></p>
            <div id="pp-game-area">
                <div id="pp-scene-container">
                    <!-- Drop zones will be added here by JS -->
                </div>
                <div id="pp-item-holder">
                    <!-- Draggable item will be added here by JS -->
                </div>
            </div>
            <button id="pp-next-btn" style="display: none;">Next Scene</button>
        </div>

        <div id="time-machine-verbs-container" class="game-container">
            <h2>Time Machine Verbs</h2>
            <img id="tmv-prompt-image" src="" alt="Time context prompt" style="max-width: 100%; height: 200px; border-radius: 10px; background-color: #eee; margin-bottom: 15px;">
            <p id="tmv-prompt-sentence"></p>
            <div id="tmv-timeline-container">
                <div class="tmv-tense-labels">
                    <span>Past</span>
                    <span>Present</span>
                    <span>Future</span>
                </div>
                <input type="range" id="tmv-tense-slider" min="0" max="2" value="1" step="1">
            </div>
            <div id="tmv-verb-display">
                <!-- The verb form will be updated here by JS -->
            </div>
            <div id="tmv-controls">
                <button id="tmv-check-btn">Check Answer</button>
                <button id="tmv-next-btn" style="display: none;">Next</button>
            </div>
            <p id="tmv-feedback"></p>
        </div>

        <div id="agreement-arcade-container" class="game-container">
            <div id="aa-header">
                <p>Score: <span id="aa-score">0</span></p>
                <p>Lives: <span id="aa-lives">3</span></p>
            </div>
            <div id="aa-game-area">
                <!-- Falling objects will be spawned here by JS -->
            </div>
            <div id="aa-landing-zone"></div>
            <div id="aa-overlay" style="display: flex;">
                <button id="aa-start-btn">Start Game</button>
            </div>
        </div>

        <div id="conjugation-duel-container" class="game-container">
            <h2>Conjugation Duel (vs AI)</h2>
            <div id="cd-scores">
                <span>Player: <span id="cd-player-score">0</span></span>
                <span>Opponent: <span id="cd-opponent-score">0</span></span>
            </div>
            <div id="cd-prompt-area">
                <p>Verb: <span id="cd-verb"></span></p>
                <p>Subject: <span id="cd-subject"></span></p>
                <p>Tense: <span id="cd-tense"></span></p>
            </div>
            <div id="cd-player-area">
                <label for="cd-player-input">Your Answer:</label>
                <input type="text" id="cd-player-input" autocomplete="off">
            </div>
            <div id="cd-opponent-area">
                <p>Opponent's Progress:</p>
                <div id="cd-opponent-progress-bar">
                    <div id="cd-opponent-progress"></div>
                </div>
            </div>
            <p id="cd-feedback"></p>
        </div>

        <div id="preposition-detective-container" class="game-container">
            <h2>Preposition Detective</h2>
            <div class="stats-bar">
                <p>Score: <span id="pd-score">0</span></p>
            </div>
            <p id="pd-clue" class="clue">Loading clue...</p>
            <div id="pd-panels-container">
                <!-- Panels will be dynamically inserted here by JS -->
            </div>
            <p id="pd-feedback" class="feedback"></p>
            <button id="pd-next-btn" class="button" style="display: none;">Next Challenge</button>
        </div>

        <div id="morphology-mixer-container" class="game-container">
            <h2>Morphology Mixer</h2>
            <div class="stats-bar">
                <p>Score: <span id="mm-score">0</span></p>
            </div>
            <img id="mm-prompt-image" src="" alt="Morphology prompt" style="max-width: 100%; height: auto; max-height: 200px; margin-bottom: 15px; border-radius: 10px; background-color: #eee;">
            <div id="mm-word-container" class="word-construction">
                <!-- Word parts will be inserted here by JS -->
            </div>
            <div id="mm-options-container">
                <!-- Morpheme options will be inserted here by JS -->
            </div>
            <p id="mm-feedback" class="feedback"></p>
            <button id="mm-next-btn" class="button" style="display: none;">Next Word</button>
        </div>
    </main>
    <script type="module" src="js/main.js"></script>
</body>
</html>
