<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COSYlanguages - Games</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>COSYlanguages</h1>
        <div id="game-selector">
            <button id="select-memory-match" class="game-selector-btn active">Memory Match</button>
            <button id="select-cloze-race" class="game-selector-btn">Cloze Race</button>
            <button id="select-spot-mistake" class="game-selector-btn">Spot the Mistake</button>
            <button id="select-picture-bingo" class="game-selector-btn">Picture Bingo</button>
            <button id="select-pronunciation-sprint" class="game-selector-btn">Pronunciation Sprint</button>
            <button id="select-adaptive-flashcards" class="game-selector-btn">Adaptive Flashcards</button>
            <button id="select-story-builder" class="game-selector-btn">Story Builder</button>
            <button id="select-roleplay-simulator" class="game-selector-btn">Roleplay Simulator</button>
            <button id="select-synonym-swap" class="game-selector-btn">Synonym Swap</button>
        </div>
        <div class="language-selector-container">
            <label for="language-selector">Language:</label>
            <select id="language-selector">
                <option value="english_a2">English</option>
                <option value="french_a2">French</option>
                <option value="spanish_a2">Spanish</option>
                <option value="italian_a2">Italian</option>
                <option value="german_a2">German</option>
                <option value="russian_a2">Russian</option>
                <option value="portuguese_a2">Portuguese</option>
                <option value="breton_a2">Breton</option>
                <option value="armenian_a2">Armenian</option>
                <option value="georgian_a2">Georgian</option>
                <option value="tatar_a2">Tatar</option>
                <option value="bachkir_a2">Bachkir</option>
                <option value="tchuvash_a2">Tchuvash</option>
                <option value="greek_a2">Greek</option>
            </select>
        </div>
        <p id="deck-title">French A2</p>
    </header>
    <main>
        <div id="memory-match-container" class="game-container active">
            <div id="game-board"></div>
            <div id="progress-container">
                <h2>Progress</h2>
                <p>Matches: <span id="matches-count">0</span></p>
                <p>Attempts: <span id="attempts-count">0</span></p>
                <button id="reset-button">Reset Game</button>
            </div>
        </div>
        <div id="cloze-race-container" class="game-container">
            <div id="cloze-stats">
                <p>Time: <span id="cloze-timer">60</span>s</p>
                <p>Score: <span id="cloze-score">0</span></p>
            </div>
            <div id="cloze-sentence-container">
                <p id="cloze-sentence">Click "Start" to begin the race!</p>
            </div>
            <div id="cloze-options-container"></div>
            <button id="cloze-next-btn">Start</button>
        </div>

        <div id="spot-mistake-container" class="game-container">
            <div id="spot-mistake-stats">
                <p>Mistakes Found: <span id="spot-mistake-found">0</span> / <span id="spot-mistake-total">0</span></p>
            </div>
            <div id="spot-mistake-text-container">
                <!-- Text with mistakes will be rendered here by JS -->
            </div>
            <button id="spot-mistake-next-btn">Next Text</button>
        </div>

        <div id="picture-bingo-container" class="game-container">
            <div id="bingo-controls">
                <button id="bingo-new-card-btn">New Card</button>
                <button id="bingo-next-clue-btn">Call Next Clue</button>
            </div>
            <p id="bingo-clue-display">Click "Call Next Clue" to start.</p>
            <div id="bingo-card-grid">
                <!-- 3x3 grid will be populated by JS -->
            </div>
        </div>

        <div id="pronunciation-sprint-container" class="game-container">
            <h2 id="ps-deck-title">Pronunciation Sprint</h2>
            <div id="pronunciation-sprint-controls">
                <button id="ps-start-btn">Start Game</button>
                <button id="ps-listen-btn" disabled>Listen to Prompt</button>
                <button id="ps-record-btn" disabled>Record Answer</button>
            </div>
            <div id="pronunciation-sprint-game-area">
                <p><strong>Prompt:</strong> <span id="ps-prompt-text">Press "Start Game" to get a prompt.</span></p>
                <p><strong>Your attempt:</strong> <span id="ps-user-speech">...</span></p>
                <p><strong>Feedback:</strong> <span id="ps-feedback"></span></p>
            </div>
            <div id="pronunciation-sprint-stats">
                <p>Score: <span id="ps-score">0</span></p>
            </div>
        </div>

        <div id="adaptive-flashcards-container" class="game-container">
            <h2 id="af-deck-title">Adaptive Flashcards</h2>
            <div id="srs-stats-container">
                <span>New: <span id="srs-stats-new">0</span></span>
                <span>Learning: <span id="srs-stats-learning">0</span></span>
                <span>To Review: <span id="srs-stats-review">0</span></span>
            </div>
            <div id="flashcard-area">
                <div id="flashcard">
                    <div id="flashcard-front"></div>
                    <div id="flashcard-back" style="display: none;"></div>
                </div>
                <button id="flashcard-flip-btn">Flip</button>
            </div>
            <div id="recall-buttons-container" style="display: none;">
                <button class="recall-btn" data-quality="1">Again (1m)</button>
                <button class="recall-btn" data-quality="3">Hard (1d)</button>
                <button class="recall-btn" data-quality="4">Good (3d)</button>
                <button class="recall-btn" data-quality="5">Easy (7d)</button>
            </div>
        </div>

        <div id="story-builder-container" class="game-container">
            <h2 id="sb-deck-title">Story Builder</h2>
            <div id="sb-target-sentence" class="dropzone">
                <!-- Dropped chunks will appear here -->
            </div>
            <div id="sb-source-chunks" class="source-zone">
                <!-- Draggable chunks will be populated here by JS -->
            </div>
            <div id="sb-controls">
                <button id="sb-check-btn">Check Answer</button>
                <button id="sb-next-btn">Next Sentence</button>
            </div>
            <p id="sb-feedback"></p>
        </div>

        <div id="roleplay-simulator-container" class="game-container">
            <h2 id="rs-scenario-title">Roleplay Simulator</h2>
            <div id="rs-conversation-log"></div>
            <div id="rs-npc-prompt"></div>
            <div id="rs-user-choices"></div>
        </div>

        <div id="synonym-swap-container" class="game-container">
            <div id="ss-stats">
                <p>Score: <span id="ss-score">0</span></p>
            </div>
            <div id="ss-sentence-container">
                <p id="ss-sentence">Loading...</p>
            </div>
            <div id="ss-options-container"></div>
            <button id="ss-next-btn">Next</button>
        </div>
    </main>
    <script type="module" src="js/main.js"></script>
</body>
</html>
